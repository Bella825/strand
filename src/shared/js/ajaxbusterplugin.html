<link rel="import" href="datautils.html"/>
<script>
(function(scope) {

	var DataUtils = StrandLib.DataUtils;

	scope.AjaxBusterPlugin = function (name, enabled) {
		this.name = name || "nocache";
		this.enabled = !(enabled===false);
	};

	scope.AjaxBusterPlugin.prototype = {
		requestHandler: function(ajaxOptions) {
			var qp = DataUtils.getPathValue("queryParams", ajaxOptions);
			if (this.enabled && qp) {
				ajaxOptions.queryParams.push(DataUtils.param(this.name, Date.now()));
			}
		},
		responseHandler: function(response) {
			return response;
		},
		reset: function() {}
	};
}(window.StrandLib = window.StrandLib || {}));
</script>
