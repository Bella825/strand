<link rel="import" href="datautils.html"/>
<script>
(function(scope) {

	var DataUtils = StrandLib.DataUtils;

	scope.AjaxBusterPlugin = function (config) {
		this.config = DataUtils.copy({
			name:"nocache",
			enabled:true
		}, config);
	};

	scope.AjaxBusterPlugin.prototype = {
		requestHandler: function(ajaxOptions) {
			var qp = DataUtils.getPathValue("queryParams", ajaxOptions);
			if (this.config.enabled && qp) {
				ajaxOptions.queryParams.push(DataUtils.param(this.config.name, Date.now()));
			}
		}
	};
}(window.StrandLib = window.StrandLib || {}));
</script>
