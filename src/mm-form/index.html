<!DOCTYPE html>
<html>
	<head>
	<script language="javascript" src="../../bower_components/webcomponentsjs/webcomponents.js"></script>
	<link rel="import" href="../../build/strand.html" />

	<style type="text/css">
		body, html {
			height: 100%;
			min-height: 100%;
		}

		body {  
			margin:0;
			padding:0;
			background: #eee;
		}

		p {
			font-family: "Arimo", sans-serif;
			font-weight: 400;
			font-size: 13px !important;
			line-height: 28px !important;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
			font-smoothing: antialiased;
			color: #333;
			margin: 0;
			padding: 0;
		}

		.col {
			box-sizing: border-box;
			padding: 10px 0 0 10px; 
		}

		mm-form[unresolved] {
			display: none;
		}
	</style>
	</head>

	<body>

		<mm-form id="testForm" unresolved>

			<!-- row 1 -->
			<div class="col" span="1">
				<mm-input fitparent name="input" placeholder="Type a Number"></mm-input>
			</div>

			<div class="col" span="1">
				<mm-dropdown fitparent name="dropdown" placeholder="Select an Item">
					<mm-list-item>List Item 1</mm-list-item>
					<mm-list-item>List Item 2</mm-list-item>
					<mm-list-item>List Item 3</mm-list-item>
					<mm-list-item>List Item 4</mm-list-item>
				</mm-dropdown>
			</div>

			<div class="col" span="2">
				<mm-group fitparent unresolved name="radio">
					<mm-radio>
						<label>Red</label>
					</mm-radio>
					<mm-radio>
						<label>Green</label>
					</mm-radio>	
					<mm-radio>
						<label>Blue</label>
					</mm-radio>			
				</mm-group>
			</div>

			<!-- row 2 -->
			<!--
			<div class="col" span="1">
			<mm-dimensions
				id="dimensions"
				unresolved
				name="dimensions"
				validation="dimensions|empty"
				label="Select a Dimension"
				error-message="You need to select dimensions"></mm-dimensions>
			</div>
			-->

		</mm-form>

		<script>

			// config/initial data set up this way:
			var data = {
					'input' : {
						validation: 'int|empty',
						errorMsg: 'You need to type a number',
						label: 'Type a number'
					},
					'dropdown' : {
						validation: 'empty',
						errorMsg: 'You need to select an item',
						label: 'Select an Item'
					},
					'radio' : {
						validation: function(name, value, data) {
							return data[name] === 'Red' && value === 'Red';
						},
						errorMsg: 'You need to select \'Red\'',
						label: 'Select a Color'
					}
				},
				// returned from server-side validation(?)
				returnedData = {
					'input' : {
						errorMsg: 'Type a number greater than 0'
					},
					'dropdown' : {
						errorMsg: 'Select a different item'
					}, 
					'radio' : {
						errorMsg: 'Select Green'
					}
				};

			window.addEventListener('WebComponentsReady', function(e) {
				var testForm = document.querySelector('#testForm');

				testForm.data = data;

				testForm.addEventListener('serialize-form', function(e){
					console.log('serialize-form', e.detail);
				});

				testForm.addEventListener('cancel-form', function(e){
					console.log('cancel-form');
				});
			});
		</script>

	</body>
</html>