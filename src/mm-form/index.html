<!DOCTYPE html>
<html>
	<head>
	<script language="javascript" src="../../bower_components/webcomponentsjs/webcomponents.js"></script>
	<link rel="import" href="../../build/strand.html" />

	<style type="text/css">
		body, html {
			height: 100%;
			min-height: 100%;
		}

		body {  
			margin:0;
			padding:0;
			background: #eee;
		}

		p {
			font-family: "Arimo", sans-serif;
			font-weight: 400;
			font-size: 13px !important;
			line-height: 28px !important;
			-webkit-font-smoothing: antialiased;
			-moz-osx-font-smoothing: grayscale;
			font-smoothing: antialiased;
			color: #333;
			margin: 0;
			padding: 0;
		}

		.col {
			box-sizing: border-box;
			padding: 10px 0 0 10px; 
		}

		mm-form[unresolved] {
			display: none;
		}
	</style>
	</head>

	<body>

		<mm-form id="testForm" unresolved>

			<!-- row 1 -->
			<div class="col" span="1">
				<mm-input fitparent name="input" placeholder="Type a Number"></mm-input>
			</div>

			<div class="col" span="1">
				<mm-dropdown fitparent name="dropdown" placeholder="Select an Item">
					<mm-list-item>List Item 1</mm-list-item>
					<mm-list-item>List Item 2</mm-list-item>
					<mm-list-item>List Item 3</mm-list-item>
					<mm-list-item>List Item 4</mm-list-item>
				</mm-dropdown>
			</div>

			<div class="col" span="2">
				<mm-group fitparent unresolved name="radio">
					<mm-radio>
						<label>Red</label>
					</mm-radio>
					<mm-radio>
						<label>Green</label>
					</mm-radio>	
					<mm-radio>
						<label>Blue</label>
					</mm-radio>			
				</mm-group>
			</div>

			<!-- row 2 -->
			<div class="col" span="1">
				<!--
				<mm-dimensions
					id="dimensions"
					unresolved
					name="dimensions"
					validation="dimensions|empty"
					label="Select a Dimension"
					error-message="You need to select dimensions"></mm-dimensions>
				-->

				<!--
				<mm-radio 
					id="standardSize" 
					group="sizes" 
					checked
					on-selected="_handleRadioSelected"></mm-radio>
				<mm-dropdown 
					id="standardSizeDdl" 
					disabled$="{{!isStandard}}" 
					on-changed="_standardSizeChanged" 
					placeholder="Select One">
					<mm-list-item>160x600</mm-list-item>
					<mm-list-item>728x90</mm-list-item>
					<mm-list-item>300x250</mm-list-item>
				</mm-dropdown>
				<mm-radio 
					id="nonStandardSize" 
					group="sizes"
					on-selected="_handleRadioSelected"></mm-radio>
				<mm-group id="nonStandardSizeGroup" disabled$="{{isStandard}}">
					<mm-input 
						id="width"
						placeholder="Width" 
						validation="int"
						on-changed="_widthChanged"></mm-input>
					<mm-input 
						id="height"
						placeholder="Height" 
						validation="int"
						on-changed="_heightChanged"></mm-input>
				</mm-group>
				-->

			</div>

		</mm-form>

		<script>

			// config/initial data set up this way:
			var data = {
					'input' : {
						validation: 'int|empty',
						errorMsg: 'You need to type a number',
						label: 'Type a number',
						// value: '100'
					},
					'dropdown' : {
						validation: 'empty',
						errorMsg: 'You need to select an item',
						label: 'Select an Item',
						// value: 'List Item 4'
					},
					'radio' : {
						validation: function(name, value, data) {
							return data[name] === 'Red' && value === 'Red';
						},
						errorMsg: 'You need to select \'Red\'',
						label: 'Select a Color',
						// value: 'Red'
					}
				},
				// returned from server-side validation(?)
				returnedData = {
					'input' : 'Type a number greater than 0',
					'dropdown' : 'Select a different item', 
					'radio' : 'Select Green'
				};

			window.addEventListener('WebComponentsReady', function(e) {
				var testForm = document.querySelector('#testForm');

				testForm.data = data;

				testForm.addEventListener('serialize-form', function(e){
					console.log('serialize-form', e.detail);
				});

				testForm.addEventListener('cancel-form', function(e){
					console.log('cancel-form');
				});
			});
		</script>

	</body>
</html>